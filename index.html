<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>B SÄ±nÄ±fÄ± Direksiyon SÄ±navÄ± â€“ Hata Renk Oyunu</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #333;
      font-size: 1.1rem;
    }
    h1 {
      color: #222;
    }
    #question {
      background: #fff;
      border-radius: 10px;
      padding: 35px 30px;
      width: 90vw;
      max-width: 1000px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      margin-bottom: 40px;
      text-align: center;
      font-size: 1.6rem;
      line-height: 1.4;
    }

    .buttons {
      display: flex;
      gap: 30px;
      margin-bottom: 40px;
      width: 90vw;
      max-width: 1000px;
      justify-content: center;
    }

    button.color-btn {
      flex: 1 1 200px;
      padding: 25px 20px;
      font-size: 1.3rem;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      color: #fff;
      transition: transform 0.1s;
    }
    button.color-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
    button[data-color="MAVÄ°"] { background: #007BFF; }
    button[data-color="SARI"] { background: #FFC107; color: #000; }
    button[data-color="KIRMIZI"] { background: #DC3545; }

    #score {
      font-size: 1.1rem;
      margin-bottom: 10px;
    }

    #feedback {
      font-size: 1.1rem;
      font-weight: bold;
      min-height: 1.5em;
    }

    /* Animations */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }
    @keyframes shake {
      0%,100% { transform: translateX(0); }
      20% { transform: translateX(-8px); }
      40% { transform: translateX(8px); }
      60% { transform: translateX(-8px); }
      80% { transform: translateX(8px); }
    }

    .correctAnim { animation: pulse 0.5s ease; color: green !important; }
    .wrongAnim { animation: shake 0.5s ease; color: #d33 !important; }
    .shake { animation: shake 0.5s ease; }
    /* Overlay Ekranlar */
    .overlay {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #f5f5f5;
      z-index: 1000;
    }
    .mode-buttons {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .mode-btn, #playAgain {
      padding: 15px 25px;
      font-size: 1.2rem;
      font-weight: bold;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: #28a745;
      color: #fff;
    }
    .mode-btn:hover, #playAgain:hover { opacity: 0.9; }

    /* Progress Bar */
    #progressContainer {
      width: 90vw;
      max-width: 1000px;
      height: 20px;
      background: #ddd;
      border-radius: 10px;
      margin-bottom: 20px;
      overflow: hidden;
    }
    #progressBar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg,#ffc107,#28a745);
      transition: width 0.3s ease;
    }
  </style>

  <!-- Konfeti kÃ¼tÃ¼phanesi -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js" defer></script>
</head>
<body>
  <!-- BaÅŸlangÄ±Ã§ EkranÄ± -->
  <div id="startScreen" class="overlay">
    <h1>Direksiyon SÄ±navÄ± â€“ Hata Renk Oyunu</h1>
    <p>LÃ¼tfen bir oyun modu seÃ§in:</p>
    <div class="mode-buttons">
      <button class="mode-btn" data-count="10">Mini Oyun (10 Soru)</button>
      <button class="mode-btn" data-count="20">Standart Oyun (20 Soru)</button>
      <button class="mode-btn" data-count="full">Maraton (TÃ¼m Sorular)</button>
    </div>
  </div>

  <!-- Oyun AlanÄ± -->
  <div id="gameArea" style="display:none; width: 100%; flex-direction: column; align-items:center;">
    <div id="progressContainer"><div id="progressBar"></div></div>
    <h2 id="score">Puan: 0</h2>
    <div id="question">YÃ¼kleniyor...</div>
    <div class="buttons">
      <button class="color-btn" data-color="MAVÄ°">Mavi</button>
      <button class="color-btn" data-color="SARI">SarÄ±</button>
      <button class="color-btn" data-color="KIRMIZI">KÄ±rmÄ±zÄ±</button>
    </div>
    <div id="feedback"></div>
  </div>

  <!-- SonuÃ§ EkranÄ± -->
  <div id="resultScreen" class="overlay" style="display:none;">
    <h1>Oyun Bitti!</h1>
    <p id="finalScore"></p>
    <p id="trophy"></p>
    <button id="playAgain">Tekrar Oyna</button>
  </div>

  <script defer>
    // TÃ¼m hata verileri (metin|renk) â€“ tam liste
    const errorLines = `
AracÄ±n kaputunu aÃ§amÄ±yor.|MAVÄ°
AkÃ¼nÃ¼n yerini gÃ¶steremiyor.|MAVÄ°
Motor yaÄŸÄ± konulma yerini ve/veya yaÄŸ Ã¶lÃ§Ã¼m Ã§ubuÄŸunu gÃ¶steremiyor.|MAVÄ°
Motor soÄŸutma suyu deposunu gÃ¶steremiyor.|MAVÄ°
Cam silecek suyunun konulma yerini gÃ¶steremiyor.|MAVÄ°
AracÄ±n bagajÄ±nÄ± aÃ§amÄ±yor, stepne/araÃ§ kiti takÄ±mÄ±, kriko, bijon anahtarÄ±, reflektÃ¶r ve ilkyardÄ±m Ã§antasÄ±nÄ± gÃ¶steremiyor.|MAVÄ°
Lastiklerin havalarÄ±nÄ±n yeterli olup olmadÄ±ÄŸÄ±nÄ± gÃ¶zle veya ayakla kontrol etmiyor.|MAVÄ°
YaÄŸ ve hararet gÃ¶stergelerini gÃ¶steremiyor ve/veya hangi durumda tehlike ifade ettiklerini bilmiyor.|MAVÄ°
YakÄ±t gÃ¶stergesinin yerini gÃ¶steremiyor.|MAVÄ°
HÄ±z ve devir gÃ¶stergelerini gÃ¶steremiyor.|MAVÄ°
Uzun/kÄ±sa far, korna, cam silecek kolu, sinyal kolu ve diÄŸer kumanda kollarÄ±nÄ± gÃ¶steremiyor.|MAVÄ°
AraÃ§ iÃ§i aydÄ±nlatma lambalarÄ±nÄ± aÃ§Ä±p kapatamÄ±yor.|MAVÄ°
DÄ±ÅŸ ve iÃ§ aynalarÄ±n ayar yerlerini gÃ¶steremiyor.|MAVÄ°
El frenini ve ayak fren pedalÄ±nÄ± gÃ¶steremiyor.|MAVÄ°
Gaz ve debriyaj pedallarÄ±nÄ± gÃ¶steremiyor.|MAVÄ°
AracÄ±n kaÃ§ vitesli olduÄŸunu bilmiyor.|MAVÄ°
Otomatik vitesli araÃ§larda P, R, N ve D harflerinin ne anlama geldiÄŸini bilmiyor.|MAVÄ°
Sigorta kutusunu gÃ¶steremiyor.|MAVÄ°
Åžarj giriÅŸini gÃ¶steremiyor.|MAVÄ°
Åžarj gÃ¶sterge lambasÄ±nÄ± gÃ¶steremiyor.|MAVÄ°
Araca bindiÄŸinde koltuk ayarlarÄ±nÄ± kontrol etmiyor.|SARI
Araca bindiÄŸinde ayna ayarlarÄ±nÄ± kontrol etmiyor.|SARI
Emniyet kemerini takmÄ±yor.|KIRMIZI
Alkol, uyuÅŸturucu veya uyarÄ±cÄ± maddelerin etkisinde olduÄŸu gÃ¶zlemlendi.|KIRMIZI
AracÄ± Ã§alÄ±ÅŸtÄ±rmadan Ã¶nce debriyaja basmÄ±yor veya vitesi boÅŸa almÄ±yor.|SARI
AracÄ± Ã§alÄ±ÅŸtÄ±ramÄ±yor.|SARI
AraÃ§ Ã§alÄ±ÅŸtÄ±ÄŸÄ± halde kontak anahtarÄ±nÄ± marÅŸ kademesinde tutmaya devam ediyor.|SARI
AracÄ± hareket ettirmeden Ã¶nce el frenini indirmiyor.|SARI
KalkÄ±ÅŸÄ± doÄŸru vitesle yapmÄ±yor, otomatik vitesli araÃ§larda kalkÄ±ÅŸ yaparken vitesi D pozisyonuna getirmiyor.|SARI
KalkÄ±ÅŸ yapmadan Ã¶nce aynalarÄ± ile trafiÄŸi kontrol etmiyor.|KIRMIZI
KalkÄ±ÅŸ yaparken omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor.|SARI
KalkÄ±ÅŸ yaparken zamanÄ±nda ve/veya doÄŸru yÃ¶ne sinyal vermiyor.|KIRMIZI
KalkÄ±ÅŸ yaparken aracÄ± sarsÄ±yor.|SARI
KalkÄ±ÅŸ yaparken motoru stop ettiriyor.|SARI
KalkÄ±ÅŸta trafik akÄ±ÅŸÄ± ile uyumlu hareket edemiyor.|SARI
TrafiÄŸi tehlikeye dÃ¼ÅŸÃ¼recek ÅŸekilde hÄ±zlÄ± ve kontrolsÃ¼z kalkÄ±ÅŸ yapÄ±yor.|KIRMIZI
KalkÄ±ÅŸ yaptÄ±ktan sonra aracÄ± doÄŸru ÅŸeride konumlandÄ±ramÄ±yor.|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor, araÃ§ kullanÄ±rken refleksleriyle tehlikeyi bertaraf edemiyor.|SARI
DÃ¶nÃ¼ÅŸ hareketine baÅŸlamadan Ã¶nce zamanÄ±nda ve doÄŸru yÃ¶ne sinyal vermiyor.|KIRMIZI
BelirlenmiÅŸ alanÄ±n dÄ±ÅŸÄ±na Ã§Ä±kÄ±yor, konilere dokunuyor/Ã§arpÄ±yor.|KIRMIZI
Belirlenen alanda en fazla Ã¼Ã§ hamlede dÃ¶nÃ¼ÅŸÃ¼ tamamlayamÄ±yor.|KIRMIZI
Manevra yapma becerisi zayÄ±f.|SARI
Motoru stop ettiriyor (dar alanda dÃ¶nÃ¼ÅŸ).|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (dar alanda dÃ¶nÃ¼ÅŸ).|SARI
Park alanÄ±na yaklaÅŸÄ±rken zamanÄ±nda ve/veya doÄŸru yÃ¶ne sinyal vermiyor.|KIRMIZI
Koniler arasÄ±na tek hamlede veya ikinci hakkÄ±nda giremiyor.|KIRMIZI
Koniler arasÄ±na girdikten sonra en fazla iki hamlede park edemiyor.|KIRMIZI
Park ederken veya park alanÄ±ndan Ã§Ä±karken kaldÄ±rÄ±ma veya konilere dokunuyor/Ã§arpÄ±yor.|KIRMIZI
Geri giderken aracÄ±n tamponu kaldÄ±rÄ±m hizasÄ±nÄ± geÃ§iyor.|KIRMIZI
KaldÄ±rÄ±ma 50 cm'den fazla aÃ§Ä±ÄŸa park ediyor.|KIRMIZI
KalkÄ±ÅŸ yaparken motoru stop ettiriyor (park).|SARI
Genel park etme becerisi zayÄ±f.|SARI
Park alanÄ±ndan Ã§Ä±karken aynalarÄ± ile trafiÄŸi kontrol etmiyor.|KIRMIZI
Park alanÄ±ndan Ã§Ä±karken zamanÄ±nda ve/veya doÄŸru yÃ¶ne sinyal vermiyor.|KIRMIZI
Park alanÄ±ndan Ã§Ä±karken omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor.|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (park).|SARI
AracÄ± geri vitese takamÄ±yor.|SARI
Geri giderken aracÄ± ÅŸerit Ã§izgileri iÃ§erisinde gezdiriyor.|SARI
Geri giderken aracÄ± ÅŸerit Ã§izgilerine veya dubalara dokunduruyor/Ã§arpÄ±yor.|KIRMIZI
Geri giderken aynalarla veya geriye dÃ¶nerek arkadaki trafiÄŸi kontrol etmiyor.|KIRMIZI
AracÄ± stop ettiriyor (geri dÃ¼z).|SARI
KalkÄ±ÅŸ yapmadan Ã¶nce aynalarÄ± ile trafiÄŸi kontrol etmiyor (geri dÃ¼z).|KIRMIZI
KalkÄ±ÅŸ yapmadan Ã¶nce omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor (geri dÃ¼z).|SARI
KalkÄ±ÅŸ yaparken zamanÄ±nda ve/veya doÄŸru yÃ¶ne sinyal vermiyor (geri dÃ¼z).|KIRMIZI
AracÄ± geri vitese takamÄ±yor (L dÃ¶nÃ¼ÅŸ).|SARI
Geri giderken tek hamlede dÃ¶nemiyor.|KIRMIZI
Geri giderken veya Ã§Ä±kÄ±ÅŸ yaparken lastikler ÅŸerit Ã§izgisine temas ediyor, konilere veya kaldÄ±rÄ±ma dokunuyor/Ã§arpÄ±yor.|KIRMIZI
KalkÄ±ÅŸ yaparken motoru stop ettiriyor (L dÃ¶nÃ¼ÅŸ).|SARI
DÃ¶nÃ¼ÅŸ hareketinden Ã¶nce ve/veya dÃ¶nÃ¼ÅŸÃ¼ tamamlayÄ±p tekrar yola Ã§Ä±karken sinyal vermiyor.|KIRMIZI
DÃ¶nÃ¼ÅŸ hareketinden Ã¶nce veya dÃ¶nÃ¼ÅŸÃ¼ tamamlayÄ±p tekrar yola Ã§Ä±karken aynalarÄ± ile trafiÄŸi kontrol etmiyor.|KIRMIZI
Tekrar yola Ã§Ä±kmadan Ã¶nce omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor.|SARI
Vites deÄŸiÅŸtirirken debriyaj pedalÄ±na tam basmÄ±yor.|SARI
Vites deÄŸiÅŸtirirken gaz pedalÄ±nÄ± doÄŸru kullanamÄ±yor.|SARI
Vites deÄŸiÅŸtirirken doÄŸru sÄ±ralamaya uymuyor.|SARI
Vites deÄŸiÅŸtirirken aracÄ±n kontrolÃ¼nÃ¼ kaybediyor.|KIRMIZI
Seyir halindeyken yola bakmayÄ± bÄ±rakÄ±p vites koluna bakarak vites deÄŸiÅŸtiriyor.|KIRMIZI
Gaz ve frene tam intibak edemiyor.|SARI
Direksiyon simidini doÄŸru pozisyonda tutmuyor.|SARI
AracÄ± kontrol edemiyor, saÄŸa sola savuruyor.|KIRMIZI
AracÄ± ÅŸerit iÃ§inde gezdiriyor.|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (direksiyon).|SARI
AracÄ± ÅŸerit Ã§izgilerinin iÃ§erisinde kullanamÄ±yor, iki ÅŸeridi birden kullanÄ±yor.|KIRMIZI
Åžerit deÄŸiÅŸtirmeden Ã¶nce aynalarÄ± ile trafiÄŸi kontrol etmiyor.|KIRMIZI
Åžerit deÄŸiÅŸtirmeden Ã¶nce omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor.|SARI
Åžerit deÄŸiÅŸtirmeden Ã¶nce zamanÄ±nda ve/veya doÄŸru yÃ¶ne sinyal vermiyor.|KIRMIZI
Åžeridini deÄŸiÅŸtirirken yoldaki kesik ve sÃ¼rekli Ã§izgilerin anlamlarÄ±na uygun hareket etmiyor.|SARI
Emniyet ÅŸeridini ihlal ediyor.|KIRMIZI
SÃ¼rekli sol ÅŸeridi iÅŸgal ederek araÃ§ kullanÄ±yor.|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (ÅŸerit).|SARI
KavÅŸaÄŸa yaklaÅŸÄ±rken yavaÅŸlamÄ±yor.|KIRMIZI
KavÅŸaÄŸa yaklaÅŸÄ±rken dÃ¶neceÄŸi yÃ¶ne uygun ÅŸeride zamanÄ±nda girmiyor.|KIRMIZI
DÃ¶nÃ¼ÅŸ Ã¶ncesinde zamanÄ±nda ve/veya doÄŸru yÃ¶ne sinyal vermiyor.|KIRMIZI
KavÅŸakta karÅŸÄ±dan ve yandan gelen araÃ§larÄ± kontrol etmiyor.|KIRMIZI
KavÅŸakta geÃ§iÅŸ hakkÄ± kurallarÄ±na uymuyor.|KIRMIZI
SaÄŸa sola dÃ¶nÃ¼ÅŸlerden Ã¶nce aynalarÄ± ile trafiÄŸi kontrol etmiyor.|KIRMIZI
SaÄŸa sola dÃ¶nÃ¼ÅŸlerden Ã¶nce omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor.|SARI
DÃ¶nÃ¼ÅŸÃ¼nÃ¼ tamamladÄ±ktan sonra yÃ¶nÃ¼ne uygun ÅŸeride girmiyor.|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (kavÅŸak).|SARI
IÅŸÄ±klÄ± trafik cihazlarÄ±, trafik levhalarÄ± ve diÄŸer trafik iÅŸaretlerine uymuyor.|KIRMIZI
Trafik polisini, yol ikaz ve deÄŸiÅŸikliklerini veya diÄŸer yÃ¶nlendirmeleri fark etmiyor.|KIRMIZI
AraÃ§ kullanÄ±mÄ± sÄ±rasÄ±nda araÃ§ hakimiyetini ve trafik gÃ¼venliÄŸini tehlikeye dÃ¼ÅŸÃ¼recek dÃ¼zeyde heyecanlanÄ±yor/telaÅŸlanÄ±yor.|KIRMIZI
Yaya ve okul geÃ§itlerinde yayalara ve bisikletlilere geÃ§iÅŸ hakkÄ± vermiyor.|KIRMIZI
Hemzemin geÃ§itlerde geÃ§iÅŸ kurallarÄ±na uymuyor.|KIRMIZI
GeÃ§iÅŸ Ã¼stÃ¼nlÃ¼ÄŸÃ¼ne sahip araÃ§lara geÃ§iÅŸ hakkÄ± vermiyor.|KIRMIZI
AraÃ§ seyir halindeyken iÃ§ ve dÄ±ÅŸ aynalardan trafiÄŸin akÄ±ÅŸÄ±nÄ± kontrol etmiyor.|SARI
Takip mesafesini kurallara uygun olarak ayarlayamÄ±yor.|KIRMIZI
GÃ¼zergahÄ± bilmiyor, gÃ¼zergah dÄ±ÅŸÄ±na Ã§Ä±kÄ±yor.|KIRMIZI
Genel olarak araÃ§ kullanma becerisi zayÄ±f.|KIRMIZI
Duran/duraklayan veya park halindeki araca, kaldÄ±rÄ±ma ya da baÅŸka bir cisme Ã§arpÄ±yor.|KIRMIZI
AracÄ± durdurÄ±rken veya hareket ettirirken stop ettiriyor.|SARI
Trafik lambasÄ± sarÄ± yanarken geÃ§iyor.|SARI
AydÄ±nlatmanÄ±n yetersiz olduÄŸu ortamlarda aracÄ± ÅŸeride doÄŸru konumlandÄ±ramÄ±yor.|SARI
Yolun durumuna gÃ¶re uzun ve kÄ±sa farlarÄ± yerinde kullanamÄ±yor.|SARI
Hava ve yol ÅŸartlarÄ±na uygun olarak aracÄ±n silecek/cam buharÄ±nÄ± Ã§Ã¶zmek iÃ§in kumanda dÃ¼ÄŸmelerini kullanamÄ±yor.|SARI
YakÄ±n ilerisi gÃ¶rÃ¼lmeyen kavÅŸak, dÃ¶nemeÃ§ ve tepe Ã¼stlerine yaklaÅŸÄ±rken Ä±ÅŸÄ±k uyarÄ±sÄ± yapmÄ±yor.|SARI
Duraklama veya park yasaÄŸÄ±na uymuyor.|KIRMIZI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (seyir).|SARI
Sollamaya baÅŸlamadan Ã¶nce aynalar ile trafik kontrolÃ¼ yapmÄ±yor.|KIRMIZI
Sollamaya baÅŸlamadan Ã¶nce omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor.|SARI
Sollamaya baÅŸlamadan Ã¶nce zamanÄ±nda ve/veya doÄŸru yÃ¶ne sinyal vermiyor.|KIRMIZI
Sollama yaparken Ã¶nÃ¼ndeki ve diÄŸer ÅŸeritlerdeki araÃ§larÄ± tehlikeye atÄ±yor.|KIRMIZI
Sollama yaparken kendi hÄ±zÄ±nÄ± ve diÄŸer araÃ§larÄ±n hÄ±zlarÄ±nÄ± dikkate almÄ±yor.|KIRMIZI
Kendisini geÃ§mek isteyen araÃ§ olduÄŸunda geÃ§ilme kurallarÄ±na uymuyor.|KIRMIZI
GeÃ§iÅŸi gÃ¼Ã§leÅŸtirecek ÅŸekilde, geÃ§iÅŸ yapan aracÄ±n ÅŸeridine giriyor.|KIRMIZI
GeÃ§ilirken gerekmesi durumunda hÄ±zÄ±nÄ± azaltmÄ±yor veya sabit tutmuyor.|SARI
GeÃ§en araca sesle, Ä±ÅŸÄ±kla veya el ile trafik adabÄ±na aykÄ±rÄ± tepki gÃ¶steriyor.|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (sollama).|SARI
HÄ±z levhalarÄ±na uymuyor, azami hÄ±z sÄ±nÄ±rÄ±nÄ± aÅŸÄ±yor.|KIRMIZI
Yaya, okul, bisiklet geÃ§itlerine yaklaÅŸÄ±rken hÄ±zÄ±nÄ± azaltmÄ±yor.|KIRMIZI
Gereksiz yere fren yaparak trafiÄŸi tehlikeye dÃ¼ÅŸÃ¼rÃ¼yor.|KIRMIZI
TrafiÄŸi tehlikeye dÃ¼ÅŸÃ¼recek ÅŸekilde yavaÅŸ araÃ§ kullanÄ±yor.|SARI
SÃ¼rekli aynÄ± vitesle araÃ§ kullanÄ±yor, aracÄ± uygun devirde ve hÄ±zda kullanamÄ±yor, zamanÄ±nda vites deÄŸiÅŸtirmiyor.|SARI
HÄ±zlanma ve yavaÅŸlamalarda aracÄ±n hÄ±zÄ±nÄ± ayarlayamÄ±yor.|SARI
Ã‡ukura veya kasise uygun hÄ±zda giremiyor, hÄ±zÄ±nÄ± ayarlayamÄ±yor.|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (hÄ±z).|SARI
Yola girmeden Ã¶nce doÄŸru ÅŸeride geÃ§emiyor.|KIRMIZI
Yola girmeden Ã¶nce zamanÄ±nda ve/veya doÄŸru yÃ¶ne sinyal vermiyor.|KIRMIZI
Uygun hÄ±z ve vitesle yola giremiyor, dÃ¶nÃ¼ÅŸ yapamÄ±yor.|KIRMIZI
SaÄŸa veya sola dÃ¶nÃ¼ÅŸlerden Ã¶nce aynalarÄ± ile trafiÄŸi kontrol etmiyor.|KIRMIZI
Yolda aracÄ± doÄŸru konumlandÄ±ramÄ±yor.|SARI
KÄ±sa veya uzun far kullanÄ±mÄ±nÄ± yapamÄ±yor.|SARI
Yolda oluÅŸan kasis/Ã§ukurlara dikkat etmiyor, hÄ±zÄ±nÄ± ayarlayamÄ±yor.|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (tali yol).|SARI
AracÄ± yÃ¼ksek devirde kullanÄ±yor.|SARI
KornayÄ± gereksiz yere kullanÄ±yor.|SARI
DuruÅŸ ve kalkÄ±ÅŸlarÄ± ani yapÄ±yor, aracÄ± ekonomik kullanmÄ±yor.|SARI
SaÄŸ ÅŸeritte durmadan Ã¶nce aynalarÄ± ile trafiÄŸi kontrol etmiyor.|KIRMIZI
SaÄŸ ÅŸeritte durmadan veya kalkÄ±ÅŸ yapmadan Ã¶nce sinyal vermiyor.|KIRMIZI
KalkÄ±ÅŸ yapmadan Ã¶nce aynalarÄ± ile trafiÄŸi kontroll etmiyor (eÄŸimli).|KIRMIZI
KalkÄ±ÅŸ yapmadan Ã¶nce omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor (eÄŸimli).|SARI
AracÄ± hareket ettirirken 50 cm'den fazla geri kaydÄ±rÄ±yor.|SARI
KalkÄ±ÅŸ yaparken motoru stop ettiriyor (eÄŸimli).|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (eÄŸimli yolda kalkÄ±ÅŸ).|SARI
Ani fren yapÄ±p aracÄ± durduramÄ±yor.|KIRMIZI
Ani fren yaptÄ±ÄŸÄ±nda aracÄ± stop ettiriyor.|SARI
KalkÄ±ÅŸ yapmadan Ã¶nce aynalarÄ± ile trafiÄŸi kontrol etmiyor (ani fren).|KIRMIZI
KalkÄ±ÅŸ yapmadan Ã¶nce sinyal vermiyor (ani fren).|KIRMIZI
KalkÄ±ÅŸ yapmadan Ã¶nce omuz Ã¼stÃ¼ bakÄ±ÅŸ ile kÃ¶r nokta kontrolÃ¼ yapmÄ±yor (ani fren).|SARI
KalkÄ±ÅŸ yaparken motoru stop ettiriyor (ani fren).|SARI
OlasÄ± tehlikeleri algÄ±layamÄ±yor (ani fren).|SARI
Duraklama veya park etmede saÄŸ tarafa yanaÅŸÄ±rken aynalarÄ± ile trafiÄŸi kontrol etmiyor.|KIRMIZI
Duraklama veya park etmede saÄŸ tarafa yanaÅŸÄ±rken sinyal vermiyor.|KIRMIZI
Duraklama veya park etmede ÅŸeridin saÄŸÄ±na veya kaldÄ±rÄ±ma yeterince yanaÅŸmÄ±yor.|SARI
Park etme esnasÄ±nda kaldÄ±rÄ±ma dokunuyor/Ã§arpÄ±yor.|KIRMIZI
DuruÅŸu ani yaparak araÃ§takilerin gÃ¼venliÄŸini tehlikeye dÃ¼ÅŸÃ¼rÃ¼yor.|SARI
AracÄ± terketmeden Ã¶nce el frenini Ã§ekmiyor.|SARI
AracÄ± terketmeden Ã¶nce motoru stop ettirmiyor.|SARI
Otomatik vitesli araÃ§larda park esnasÄ±nda aracÄ± stop ettirmeden Ã¶nce vitesi P pozisyonuna almÄ±yor.|KIRMIZI
AracÄ± terk ederken kapÄ±yÄ± aÃ§madan aynalarÄ± ile arkadan gelen trafiÄŸi kontrol etmiyor.|SARI
`;

    const errors = errorLines.trim().split("\n").map(line => {
      const [text, color] = line.split("|");
      return { text: text.trim(), color: color.trim() };
    });

    // Oyun durumu
    let currentError = null;
    let score = 0;
    let remainingErrors = [];
    let totalQuestions = 0;
    let answered = 0;

    // Basit karÄ±ÅŸtÄ±rma fonksiyonu
    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // Eleman referanslarÄ±
    const questionEl = document.getElementById("question");
    const scoreEl = document.getElementById("score");
    const feedbackEl = document.getElementById("feedback");
    const buttons = document.querySelectorAll("button.color-btn");

    // Oyun modunu baÅŸlat
    const startScreen = document.getElementById("startScreen");
    const resultScreen = document.getElementById("resultScreen");
    const gameArea   = document.getElementById("gameArea");
    const finalScoreEl = document.getElementById("finalScore");
    const trophyEl = document.getElementById("trophy");
    const progressBar = document.getElementById("progressBar");

    document.querySelectorAll(".mode-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const count = btn.dataset.count === "full" ? errors.length : parseInt(btn.dataset.count);
        startGame(count);
      });
    });

    document.getElementById("playAgain").addEventListener("click", () => {
      resultScreen.style.display = "none";
      startScreen.style.display = "flex";
    });

    function startGame(count) {
      score = 0;
      answered = 0;
      totalQuestions = count;
      remainingErrors = errors.slice(0, count); // sÄ±ralÄ± seÃ§im
      currentError = null;
      startScreen.style.display = "none";
      resultScreen.style.display = "none";
      gameArea.style.display = "flex";
      scoreEl.textContent = `Puan: ${score}`;
      updateProgress();
      nextQuestion();
    }

    // Ä°lerleme Ã§ubuÄŸu gÃ¼ncelle
    function updateProgress() {
      const percent = (answered / totalQuestions) * 100;
      progressBar.style.width = percent + "%";
    }

    // Yeni soru
    function nextQuestion() {
      if (remainingErrors.length === 0) {
        endGame();
        return;
      }
      currentError = remainingErrors.shift(); // sÄ±rayla al
      questionEl.textContent = currentError.text;
      feedbackEl.textContent = "";
    }

    function triggerConfetti() {
      // basit konfeti
      confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
    }

    function endGame() {
      gameArea.style.display = "none";
      finalScoreEl.textContent = `Toplam Puan: ${score}`;
      const maxScore = totalQuestions * 10;
      let trophy = "ðŸ…";
      if (score >= 0.8 * maxScore) trophy = "ðŸ† AltÄ±n Kupa";
      else if (score >= 0.6 * maxScore) trophy = "ðŸ¥ˆ GÃ¼mÃ¼ÅŸ Kupa";
      else if (score >= 0.4 * maxScore) trophy = "ðŸ¥‰ Bronz Kupa";
      else trophy = "ðŸ™ KupasÄ±z";
      trophyEl.textContent = trophy;
      resultScreen.style.display = "flex";

      // konfeti sadece kupa varsa
      if (!trophy.includes("KupasÄ±z")) triggerConfetti();
    }

    // Buton tÄ±klama iÅŸlemleri
    buttons.forEach(btn => {
      btn.addEventListener("click", () => {
        const selected = btn.dataset.color;
        if (!currentError) return;

        // Ã–nce eski animasyon sÄ±nÄ±flarÄ±nÄ± temizle
        feedbackEl.classList.remove("correctAnim", "wrongAnim");
        questionEl.classList.remove("shake");

        if (selected === currentError.color) {
          score += 10;
          feedbackEl.textContent = "DoÄŸru!";
          feedbackEl.classList.add("correctAnim");
        } else {
          score -= 50;
          feedbackEl.textContent = `YanlÄ±ÅŸ! DoÄŸru cevap: ${currentError.color}`;
          feedbackEl.classList.add("wrongAnim");
          questionEl.classList.add("shake");
        }
        scoreEl.textContent = `Puan: ${score}`;
        answered++;
        updateProgress();
        // 1 saniye sonra yeni soru
        setTimeout(nextQuestion, 1000);
      });
    });

    // Ä°lk ekranda bekle
  </script>
</body>
</html>